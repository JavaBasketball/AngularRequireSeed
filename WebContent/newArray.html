<!DOCTYPE HTML>
<html>
        <head>
                <meta charset="utf-8"/>
                <title>测试一</title>
        </head>
        <body>
                <script type="text/javascript">
                
                
/*                 1. 扩展 Array 方法 extProc，可以实现如下效果：["kitty","puppy","swan","penguin","giraffe","penguin","swan","dolphin"] => ["swan","giraffe","dolphin","penguin","puppy","kitty"]
                根据数组中字符串的倒数第二个字符进行排序，且去除重复的部分。例：["kitty","puppy","swan","penguin","giraffe","penguin","swan","dolphin"].extProc() = ["swan","giraffe","dolphin","penguin","puppy","kitty"] */

                        
                        // 去掉重复
                        Array.prototype.removeDuplicate = function(){
                        	var result = []
                        	for (var i = 0; i < this.length; i++) {
								 if(result.indexOf(this) == -1){
									 result.push(this);
								 }
								
							}
                        	return result;
                        }
                        
                        // 截取倒数第二位，重新组装数组
                        Array.prototype.reverseSecond = function(flag){
                        	var secondArray = [];
                        	var firstStr = "";
                        	var secondStr = "";
                        	// 截取倒数第二位
                        	if(flag){
	                        	for (var i = 0; i < this.length; i++) {
	                        		firstStr = this[i].substr(0, this[i].length-2);
	                        		secondStr = this[i].substr(this[i].length-2);
	                        		secondArray[i] = secondStr + firstStr;
								}
                        	}
                        	// 截取顺数第二位
                        	else {
	                        	for (var i = 0; i < this.length; i++) {
	                        		firstStr = this[i].substr(0, 2);
	                        		secondStr = this[i].substr(2,this[i].length-1);
	                        		secondArray[i] = secondStr + firstStr;
								}
                        	}
                        }
                        
                        // 安排
                        Array.prototype.extProc = function(){
                        	// 去重
                        	this.removeDuplicate();
                        	// 截取倒数第二位
                        	this.reverseSecond(true);
                        	// 截取顺数第二位
                        	this.reverseSecond(false);
                        	
                        	return this.sort();
                        }
                        
                        
                        var initArr = ["kitty","puppy","swan","penguin","giraffe","penguin","swan","dolphin"];
                        initArr.extProc();
/*                         var newArr1 = initArr.extProc1(),
                            newArr2 = initArr.extProc2(),
                            newArr3 = initArr.extProc3();
                        
                        
                        document.write("方法一效果:");
                        document.write("<br/>");
                        document.write("1.去重之前的数据: "+initArr.join());
                        document.write("<br/>");
                        document.write("2.去重之后的数据: "+newArr1);  
                        document.write("<br/>");
                        document.write("3.数组根据倒数第二个字符进行排序的数据: "+arrSort(newArr1));
                        document.write("<br/><br/>");
                        
                        document.write("方法二效果:");
                        document.write("<br/>");
                        document.write("1.去重之前的数据: "+initArr.join());
                        document.write("<br/>");
                        document.write("2.去重之后的数据: "+newArr2);  
                        document.write("<br/>");
                        document.write("3.数组根据倒数第二个字符进行排序的数据: "+arrSort(newArr2));
                        document.write("<br/><br/>");
                        
                        document.write("方法三效果:");
                        document.write("<br/>");
                        document.write("1.去重之前的数据: "+initArr.join());
                        document.write("<br/>");
                        document.write("2.去重之后的数据: "+newArr3);  
                        document.write("<br/>");
                        document.write("3.数组根据倒数第二个字符进行排序的数据: "+arrSort(newArr3));
                        document.write("<br/><br/>"); 
                        
                        var newArr4 = initArr.extProc4();
                        document.write("方法四效果:");
                        document.write("<br/>");
                        document.write("1.去重之前的数据: "+initArr.join());
                        document.write("<br/>");
                        document.write("2.去重之后的数据: "+initArr.extProc4());  
                        document.write("<br/>");
                        document.write("3.数组根据倒数第二个字符进行排序的数据: "+arrSort(newArr4));
                        document.write("<br/><br/>"); 
                        
                        function arrSort(arr){
                                var surpStr = [], secSubStr = [];
                                var mosaicStr = [], endStr = [], moSort=[];
                                for(var i=0; i<arr.length; i++){
                                        var strLen = arr.length;
                                        surpStr = arr.slice(0,strLen-2);
                                        secSubStr = arr.slice(-2);
                                        mosaicStr[i] = secSubStr + surpStr;
                                }
                                moSort = mosaicStr.sort();
                                for(var j=0; j<moSort.length; j++){
                                        var strLen = moSort[j].length;
                                        secSubStr[j] = moSort[j].slice(0,2);
                                        surpStr[j] = moSort[j].slice(2,strLen);
                                        endStr[j] = surpStr[j] + secSubStr[j];
                                }
                                return endStr;
                        } */
                </script>
        </body>
</html>